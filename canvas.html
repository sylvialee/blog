<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<title>canvas</title>
</head>
<body>
	
	<div id="box">
		<img src="images/1.png" id="pic" draggable="true" style="width:300px;position:absolute;">
	</div>
	



	<script type="text/javascript" src="preview.js"></script>
	<script type="text/javascript">

		var target=document.getElementById("pic");
		target.style.transition="all ease 0.05s";

		touch.on("#pic", "touchstart", function(ev){
			ev.preventDefault();
		})
		touch.on("#box", "touchstart", function(ev){
			ev.preventDefault();
		})

		var initScale=1;
		var currentScale;

		touch.on("#pic", "pinch", function(ev){
			
			currentScale = ev.scale - 1;
			currentScale = initScale+currentScale;
			currentScale = currentScale<0.5 ? 0.5 : currentScale ;
			this.style.transform ='scale(' + currentScale +')';
		})

		touch.on("#pic", "pinchend", function(ev){
			initScale = currentScale;
		});

		var dx, dy;

		touch.on("#box", "drag", function(ev){
			dx = dx || 0;
			dy = dy || 0;
			var offx = dx + ev.x + 'px';
			var offy = dy + ev.y + 'px';
			this.style.transform = this.style.transform + ' translate3d(' + offx + ',' + offy + ',0)';
		});
		touch.on("#box", 'dragend', function(ev){
			dx += ev.x;
			dy += ev.y;
		})


		
	</script>
</body>
</html>